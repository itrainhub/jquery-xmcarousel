!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(u){var c=function(){this.$element=null,this.$wrappers=null,this.$sliders=null,this.$pagination=null,this.$paginationItems=null,this.$prev=null,this.$next=null,this.options=null,this.length=0,this.currentIndex=0,this.nextIndex=1,this.timer=null,this.paginationActiveClass="",this.sliderWidth=0,this.sliderHeight=0,this.isRunning=!1};c.VERSION="1.0.0",u.extend(c.prototype,{init:function(t,e){var n=this;if(t=t||".xm-carousel-container",n.$element=u(t),n.$wrappers=n.$element.find(".xm-carousel-wrapper"),n.$sliders=n.$wrappers.find(".xm-carousel-slider"),n.options=u.extend({},c.defaultOptions,e),n.length=n.$sliders.length,n.options.pagination){var i=n.$element.find(n.options.pagination.el),s=n.options.pagination.initClassName||"xm-carousel-pagination-item",o=n.paginationActiveClass=n.options.pagination.activeClassName||"xm-carousel-pagination-item-active",a="";if("custom"===n.options.pagination.type)s=n.options.pagination.customeClassName;else{for(var l=0;l<n.length;l++)a+="<i class='"+s+"'></i>";i.html(a)}n.$paginationItems=i.find("."+s),n.$paginationItems.first().addClass(o)}if("horizontal"===n.options.type||"vertical"===n.options.type){var r=n.$sliders.first().clone(!0),p=n.$sliders.last().clone(!0),d=n.sliderWidth=n.$sliders.first().outerWidth(!0),h=n.sliderHeight=n.$sliders.first().outerHeight(!0);n.$wrappers.append(r).prepend(p),n.length+=2,n.$sliders=n.$wrappers.find(".xm-carousel-slider"),"horizontal"===n.options.type?(n.$wrappers.css({width:n.length*d,left:-1*n.sliderWidth}),n.$sliders.css({float:"left"})):"vertical"===n.options.type&&n.$wrappers.css({height:n.length*h,top:-1*n.sliderHeight}),n.$wrappers.css({position:"absolute"}),n.currentIndex=1,n.nextIndex=2}else"fade"===n.options.type&&(n.$sliders.css({position:"absolute",top:0,left:0}).not(":first").hide(),n.currentIndex=0,n.nextIndex=1);n.options.navigation&&(n.$prev=u(n.options.navigation.prevEl),n.$next=u(n.options.navigation.nextEl)),n.addListener(),n.autoPlay()},addListener:function(){var e=this;e.$element.hover(function(){clearInterval(e.timer)},u.proxy(e.autoPlay,e)),e.$paginationItems&&e.$paginationItems.on("mouseenter",function(){var t=u(this).index();"horizontal"!==e.options.type&&"vertical"!==e.options.type||(t+=1),e.currentIndex!==t&&(e.nextIndex=t,e.move())}),e.$prev&&(e.$prev.on("click",function(){e.isRunning||(e.nextIndex=e.currentIndex-1,e.move())}),e.$prev.on("selectstart",function(){return!1})),e.$next&&(e.$next.on("click",function(){e.isRunning||e.move()}),e.$next.on("selectstart",function(){return!1}))},autoPlay:function(){if(this.options.autoplay){var t=this.options.autoplay.delay;this.timer=setInterval(u.proxy(this.move,this),t)}},move:function(){"horizontal"===this.options.type?this.horizontal():"vertical"===this.options.type?this.vertical():"fade"===this.options.type&&(this.nextIndex<0&&(this.nextIndex=this.length-1),this.fade())},slide:function(t,e){var n=this,i=n.nextIndex-1,s=n.$paginationItems.length,o=(e=null,null),a=null;this.isRunning=!0,i<0?i=s-1:s<=i&&(i=0),"horizontal"===t?(o={left:-1*n.sliderWidth},a={left:-1*(n.length-2)*n.sliderWidth},e={left:-1*n.nextIndex*n.sliderWidth}):"vertical"===t&&(o={top:-1*n.sliderHeight},a={top:-1*(n.length-2)*n.sliderHeight},e={top:-1*n.nextIndex*n.sliderHeight}),n.$wrappers.stop().animate(e,function(){n.currentIndex>=n.length-1?(n.currentIndex=1,n.nextIndex=2,n.$wrappers.css(o)):n.currentIndex<=0&&(n.currentIndex=n.length-2,n.nextIndex=n.length-1,n.$wrappers.css(a)),n.isRunning=!1}),n.$paginationItems.removeClass(n.paginationActiveClass).eq(i).addClass(n.paginationActiveClass),n.currentIndex=n.nextIndex,n.nextIndex++},horizontal:function(){this.slide("horizontal")},vertical:function(){this.slide("vertical")},fade:function(){this.$sliders.eq(this.currentIndex).fadeOut(),this.$sliders.eq(this.nextIndex).fadeIn(),this.$paginationItems.eq(this.currentIndex).removeClass(this.paginationActiveClass),this.$paginationItems.eq(this.nextIndex).addClass(this.paginationActiveClass),this.currentIndex=this.nextIndex,this.nextIndex++,this.nextIndex>=this.length&&(this.nextIndex=0)}}),c.defaultOptions={type:"horizontal",autoplay:{delay:3e3},pagination:{el:".xm-carousel-pagination",type:"bullet",activeClassName:"xm-carousel-pagination-item-active",initClassName:"xm-carousel-pagination-item",customeClassName:""},navigation:{nextEl:".xm-carousel-button-next",prevEl:".xm-carousel-button-prev"}},u.fn.carousel=function(n){this.each(function(t,e){(new c).init(e,n)})}});